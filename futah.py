import scrapy
import logging
import re
class CdonSpider(scrapy.Spider):
    name = 'futah'
    allowed_domains = ['futah.world']
    categories = ['https://www.futah.world/pt/toalhas-de-praia/toalhas-de-praia-individuais/match-no-futuro-pack-2-toalhas',

 'https://www.futah.world/pt/toalhas-de-praia/toalhas-de-praia-individuais/match-na-floresta-pack-2-toalhas', 'https://www.futah.world/pt/toalhas-de-praia/toalhas-de-praia-individuais/match-no-cafe-pack-2-toalhas', 'https://www.futah.world/pt/toalhas-de-praia/toalhas-de-praia-individuais/match-no-oceano-pack-2-toalhas', 'https://www.futah.world/pt/toalhas-de-praia/toalhas-de-praia-individuais/cangas/wwf-hippocampus-toalha-individual', 'https://www.futah.world/pt/toalhas-de-praia/toalhas-de-praia-individuais/cangas/wwf-lynx-toalha-individual', 'https://www.futah.world/pt/toalhas-de-praia/toalhas-de-praia-individuais/cangas/guadiana-castanha-toalha-individual', 'https://www.futah.world/pt/toalhas-de-praia/toalhas-de-praia-individuais/cangas/formosa-mocha-toalha-individual', 'https://www.futah.world/pt/toalhas-de-praia/toalhas-de-praia-individuais/cangas/formosa-violeta-e-verde-agua-toalha-individual', 'https://www.futah.world/pt/toalhas-de-praia/toalhas-de-praia-individuais/cangas/formosa-coral-e-pessego-toalha-individual', 'https://www.futah.world/pt/toalhas-de-praia/toalhas-de-praia-individuais/cangas/barra-cinza-toalha-individual', 'https://www.futah.world/pt/toalhas-de-praia/toalhas-de-praia-individuais/cangas/barra-amarela-toalha-individual', 'https://www.futah.world/pt/toalhas-de-praia/toalhas-de-praia-individuais/pareo/supertubos-coral-toalha-individual', 'https://www.futah.world/pt/toalhas-de-praia/toalhas-de-praia-individuais/pareo/supertubos-mostarda-toalha-individual', 'https://www.futah.world/pt/toalhas-de-praia/toalhas-de-praia-individuais/pareo/supertubos-violeta-toalha-individual', 'https://www.futah.world/pt/toalhas-de-praia/toalhas-de-praia-individuais/pareo/supertubos-azul-toalha-individual', 'https://www.futah.world/pt/toalhas-de-praia/toalhas-de-praia-individuais/pareo/peniche-verde-seco-e-cinza-toalha-individual', 'https://www.futah.world/pt/toalhas-de-praia/toalhas-de-praia-individuais/pareo/toalha-individual-troia-eclipse', 'https://www.futah.world/pt/toalhas-de-praia/toalhas-de-praia-individuais/pareo/nazare-preta-toalha-individual', 'https://www.futah.world/pt/toalhas-de-praia/toalhas-de-praia-individuais/pareo/nazare-mocha-toalha-individual', 'https://www.futah.world/pt/toalhas-de-praia/toalhas-de-praia-individuais/fouta/ericeira-azul-toalha-individual', 'https://www.futah.world/pt/toalhas-de-praia/toalhas-de-praia-individuais/fouta/ericeira-encarnada-toalha-individual', 'https://www.futah.world/pt/toalhas-de-praia/toalhas-de-praia-individuais/fouta/ericeira-verde-toalha-individual', 'https://www.futah.world/pt/toalhas-de-praia/toalhas-de-praia-individuais/fouta/ericeira-verde-agua-toalha-individual', 'https://www.futah.world/pt/toalhas-de-praia/toalhas-de-praia-individuais/fouta/ericeira-violeta-toalha-individual', 'https://www.futah.world/pt/toalhas-de-praia/toalhas-de-praia-individuais/fouta/ericeira-amarela-toalha-individual', 'https://www.futah.world/pt/toalhas-de-praia/toalhas-de-praia-individuais/fouta/ericeira-cor-de-rosa-toalha-individual', 'https://www.futah.world/pt/toalhas-de-praia/toalhas-de-praia-individuais/fouta/ericeira-cinza-toalha-individual', 'https://www.futah.world/pt/toalhas-de-praia/toalhas-de-praia-individuais/fouta/ericeira-mocha-toalha-individual', 'https://www.futah.world/pt/toalhas-de-praia/toalhas-de-praia-individuais/fouta/ericeira-castanha-toalha-individual', 'https://www.futah.world/pt/toalhas-de-praia/toalhas-de-praia-individuais/fouta/ericeira-preta-toalha-individual', 'https://www.futah.world/pt/toalhas-de-praia/toalhas-de-praia-organicas/murracao-organica-areia', 'https://www.futah.world/pt/toalhas-de-praia/toalhas-de-praia-organicas/deserta-organica-terra', 'https://www.futah.world/pt/toalhas-de-praia/toalhas-de-praia-organicas/deserta-organica-crua', 'https://www.futah.world/pt/toalhas-de-praia/toalhas-de-praia-organicas/berlenga-organica-areia', 'https://www.futah.world/pt/toalhas-de-praia/toalhas-de-praia-grandes/toalha-de-praia-gigante/malcata-azul-toalha-grande', 'https://www.futah.world/pt/toalhas-de-praia/toalhas-de-praia-grandes/toalha-de-praia-gigante/malcata-mocha-toalha-grande', 'https://www.futah.world/pt/toalhas-de-praia/toalhas-de-praia-grandes/toalha-de-praia-gigante/malcata-coral-toalha-grande', 'https://www.futah.world/pt/toalhas-de-praia/toalhas-de-praia-grandes/toalha-de-praia-gigante/formosa-coral-toalha-grande', 'https://www.futah.world/pt/toalhas-de-praia/toalhas-de-praia-grandes/toalha-de-praia-gigante/formosa-preta-toalha-grande', 'https://www.futah.world/pt/toalhas-de-praia/toalhas-de-praia-grandes/toalha-de-praia-gigante/formosa-mostarda-e-cinza-toalha-grande', 'https://www.futah.world/pt/toalhas-de-praia/toalhas-de-praia-grandes/toalha-de-praia-gigante/formosa-mocha-toalha-grande', 'https://www.futah.world/pt/toalhas-de-praia/toalhas-de-praia-grandes/toalha-de-praia-gigante/barra-cinza-toalha-grande', 'https://www.futah.world/pt/toalhas-de-praia/toalhas-de-praia-grandes/toalha-de-praia-gigante/barra-esmeralda-toalha-grande', 'https://www.futah.world/pt/toalhas-de-praia/toalhas-de-praia-grandes/toalha-de-praia-gigante/barra-azul-toalha-grande', 'https://www.futah.world/pt/toalhas-de-praia/toalhas-de-praia-grandes/toalha-de-praia-familiar/supertubos-mostarda-toalha-grande', 'https://www.futah.world/pt/toalhas-de-praia/toalhas-de-praia-grandes/toalha-de-praia-familiar/supertubos-coral-toalha-grande', 'https://www.futah.world/pt/toalhas-de-praia/toalhas-de-praia-grandes/toalha-de-praia-familiar/supertubos-violeta-toalha-grande', 'https://www.futah.world/pt/toalhas-de-praia/toalhas-de-praia-grandes/toalha-de-praia-familiar/supertubos-azul-toalha-grande', 'https://www.futah.world/pt/toalhas-de-praia/toalhas-de-praia-grandes/toalha-de-praia-familiar/nazare-preta-toalha-grande', 'https://www.futah.world/pt/toalhas-de-praia/toalhas-de-praia-grandes/toalha-de-praia-familiar/nazare-cor-de-rosa-toalha-grande', 'https://www.futah.world/pt/toalhas-de-praia/toalhas-de-praia-grandes/toalha-de-praia-familiar/nazare-mocha-toalha-grande', 'https://www.futah.world/pt/toalhas-de-praia/toalhas-de-praia-grandes/toalha-piquenique/ericeira-verde-toalha-grande', 'https://www.futah.world/pt/toalhas-de-praia/toalhas-de-praia-grandes/toalha-piquenique/ericeira-azul-toalha-grande', 'https://www.futah.world/pt/toalhas-de-praia/toalhas-de-praia-grandes/toalha-piquenique/ericeira-mocha-toalha-grande', 'https://www.futah.world/pt/toalhas-de-praia/toalhas-de-praia-grandes/toalha-piquenique/ericeira-cinza-toalha-grande', 'https://www.futah.world/pt/toalhas-de-praia/toalhas-de-praia-redondas/mandala/malcata-toalha-redonda-azul', 'https://www.futah.world/pt/toalhas-de-praia/toalhas-de-praia-redondas/mandala/malcata-toalha-redonda-coral', 'https://www.futah.world/pt/toalhas-de-praia/clubes-desportivos/toalha-de-praia-federacao-portuguesa-de-futebol-produto-oficial-portugal', 'https://www.futah.world/pt/toalhas-de-praia/clubes-desportivos/futebol-clube-do-porto-toalha-oficial', 'https://www.futah.world/pt/toalhas-de-praia/clubes-desportivos/sport-lisboa-e-benfica-toalha-encarnada-oficial', 'https://www.futah.world/pt/toalhas-de-praia/clubes-desportivos/sporting-clube-de-portugal-toalha-xl-oficial', 'https://www.futah.world/pt/toalhas-de-praia/clubes-desportivos/toalha-tap-azul-individual-edicao-especial', 'https://www.futah.world/pt/toalhas-de-praia/clubes-desportivos/toalha-tap-verde-individual-edicao-especial', 'https://www.futah.world/pt/toalhas-de-praia/toalhas-de-praia-criancas/toalha-crianca-supertubos-mostarda', 'https://www.futah.world/pt/toalhas-de-praia/toalhas-de-praia-criancas/toalha-crianca-supertubos-coral', 'https://www.futah.world/pt/toalhas-de-praia/toalhas-de-praia-criancas/toalha-crianca-supertubos-azul', 'https://www.futah.world/pt/toalhas-de-praia/toalhas-de-praia-criancas/toalha-crianca-nazare-azul', 'https://www.futah.world/pt/toalhas-de-praia/toalhas-de-praia-criancas/toalha-crianca-nazare-coral', 'https://www.futah.world/pt/toalhas-de-praia/toalhas-de-praia-criancas/toalha-crianca-nazare-verde', 'https://www.futah.world/pt/toalhas-de-praia/toalhas-de-praia-criancas/toalha-crianca-ericeira-mostarda', 'https://www.futah.world/pt/toalhas-de-praia/toalhas-de-praia-criancas/toalha-crianca-ericeira-cor-de-rosa', 'https://www.futah.world/pt/toalhas-de-praia/toalhas-de-praia-criancas/toalha-crianca-ericeira-coral', 'https://www.futah.world/pt/toalhas-de-praia/toalhas-de-praia-criancas/toalha-crianca-ericeira-azul', 'https://www.futah.world/pt/toalhas-de-praia/toalhas-de-praia-criancas/toalha-crianca-ericeira-cinza', 'https://www.futah.world/pt/toalhas-de-praia/toalhas-de-praia-criancas/toalha-crianca-ericeira-verde', 'https://www.futah.world/pt/poncho-de-surf/adulto/poncho-formosa-mostarda-e-cinza', 'https://www.futah.world/pt/poncho-de-surf/adulto/poncho-formosa-azul', 'https://www.futah.world/pt/poncho-de-surf/adulto/poncho-formosa-preto', 'https://www.futah.world/pt/poncho-de-surf/adulto/poncho-malcata-verde-agua', 'https://www.futah.world/pt/poncho-de-surf/adulto/poncho-malcata-azul', 'https://www.futah.world/pt/poncho-de-surf/adulto/poncho-malcata-coral', 'https://www.futah.world/pt/poncho-de-surf/adulto/poncho-ericeira-coral-299', 'https://www.futah.world/pt/poncho-de-surf/adulto/poncho-ericeira-azul', 'https://www.futah.world/pt/poncho-de-surf/adulto/poncho-ericeira-cinza', 'https://www.futah.world/pt/poncho-de-surf/adulto/poncho-ericeira-verde', 'https://www.futah.world/pt/poncho-de-surf/adulto/poncho-ericeira-preto-297', 'https://www.futah.world/pt/poncho-de-surf/crianca/poncho-crianca-ericeira-azul', 'https://www.futah.world/pt/poncho-de-surf/bebe/poncho-bebe-supertubos-mostarda', 'https://www.futah.world/pt/poncho-de-surf/bebe/poncho-bebe-supertubos-coral', 'https://www.futah.world/pt/poncho-de-surf/bebe/poncho-bebe-ericeira-azul-indigo', 'https://www.futah.world/pt/poncho-de-surf/bebe/poncho-bebe-ericeira-coral', 'https://www.futah.world/pt/poncho-de-surf/bebe/poncho-bebe-ericeira-verde', 'https://www.futah.world/pt/casa-e-decoracao/mantas/manta-ericeira-mocha', 'https://www.futah.world/pt/casa-e-decoracao/mantas/manta-ericeira-azul', 'https://www.futah.world/pt/casa-e-decoracao/mantas/manta-ericeira-cinzenta', 'https://www.futah.world/pt/casa-e-decoracao/mantas/manta-ericeira-verde', 'https://www.futah.world/pt/casa-e-decoracao/mantas/manta-ericeira-violeta', 'https://www.futah.world/pt/casa-e-decoracao/mantas/manta-ericeira-cor-de-rosa', 'https://www.futah.world/pt/casa-e-decoracao/mantas/manta-grande-xl-ericeira-azul', 'https://www.futah.world/pt/casa-e-decoracao/mantas/manta-grande-xl-ericeira-mocha', 'https://www.futah.world/pt/casa-e-decoracao/mantas/manta-grande-xl-ericeira-cinzenta', 'https://www.futah.world/pt/casa-e-decoracao/mantas/manta-grande-xl-ericeira-verde', 'https://www.futah.world/pt/casa-e-decoracao/mantas/manta-grande-xl-ericeira-violeta', 'https://www.futah.world/pt/casa-e-decoracao/mantas/manta-grande-xl-ericeira-cor-de-rosa', 'https://www.futah.world/pt/vestuario-e-acessorios/vestuario/ciconia-camisa-branca', 'https://www.futah.world/pt/vestuario-e-acessorios/vestuario/ciconia-camisa-coral', 'https://www.futah.world/pt/vestuario-e-acessorios/vestuario/chamaeleo-camisa-verde', 'https://www.futah.world/pt/vestuario-e-acessorios/vestuario/lynx-camisa-castanha', 'https://www.futah.world/pt/vestuario-e-acessorios/vestuario/ciconia-encarnado-t-shirt', 'https://www.futah.world/pt/vestuario-e-acessorios/vestuario/hippocampus-azul-t-shirt', 'https://www.futah.world/pt/vestuario-e-acessorios/vestuario/chamaeleo-verde-t-shirt', 'https://www.futah.world/pt/vestuario-e-acessorios/vestuario/camisa-flanela-ericeira-verde', 'https://www.futah.world/pt/vestuario-e-acessorios/vestuario/camisa-flanela-ericeira-azul', 'https://www.futah.world/pt/vestuario-e-acessorios/vestuario/camisa-flanela-ericeira-cinzenta', 'https://www.futah.world/pt/vestuario-e-acessorios/vestuario/camisa-flanela-nazare-riscas', 'https://www.futah.world/pt/vestuario-e-acessorios/vestuario/camisola-ericeira-verde', 'https://www.futah.world/pt/vestuario-e-acessorios/vestuario/camisola-ericeira-azul', 'https://www.futah.world/pt/vestuario-e-acessorios/vestuario/camisola-ericeira-cinzenta', 'https://www.futah.world/pt/vestuario-e-acessorios/sacos-de-praia/saco-chamaeleo', 'https://www.futah.world/pt/vestuario-e-acessorios/sacos-de-praia/saco-ciconia', 'https://www.futah.world/pt/vestuario-e-acessorios/sacos-de-praia/saco-lynx', 'https://www.futah.world/pt/vestuario-e-acessorios/sacos-de-praia/saco-hippocampus', 'https://www.futah.world/pt/vestuario-e-acessorios/sacos-de-praia/saco-grande-hippocampus-ciconia', 'https://www.futah.world/pt/vestuario-e-acessorios/meias/pack-3-meias-wwf', 'https://www.futah.world/pt/vestuario-e-acessorios/meias/pack-3-meias-guadiana', 'https://www.futah.world/pt/vestuario-e-acessorios/meias/pack-3-meias-verde', 'https://www.futah.world/pt/vestuario-e-acessorios/meias/pack-3-meias-azul', 'https://www.futah.world/pt/vestuario-e-acessorios/meias/meias-wwf-ciconia', 'https://www.futah.world/pt/vestuario-e-acessorios/meias/meias-wwf-lynx', 'https://www.futah.world/pt/vestuario-e-acessorios/meias/meias-guadiana-violeta-e-verde-agua', 'https://www.futah.world/pt/vestuario-e-acessorios/meias/meias-guadiana-coral', 'https://www.futah.world/pt/vestuario-e-acessorios/meias/meias-guadiana-preto-e-branco', 'https://www.futah.world/pt/vestuario-e-acessorios/meias/meias-guadiana-mostarda-e-verde', 'https://www.futah.world/pt/vestuario-e-acessorios/meias/meias-nazare-azul', 'https://www.futah.world/pt/vestuario-e-acessorios/meias/meias-nazare-verde', 'https://www.futah.world/pt/vestuario-e-acessorios/meias/meias-ericeira-verde', 'https://www.futah.world/pt/vestuario-e-acessorios/meias/meias-ericeira-branco', 'https://www.futah.world/pt/vestuario-e-acessorios/meias/meias-ericeira-azul', 'https://www.futah.world/pt/vestuario-e-acessorios/meias/meias-ericeira-preto', 'https://www.futah.world/pt/vestuario-e-acessorios/carteiras/carteira-s-lynx', 'https://www.futah.world/pt/vestuario-e-acessorios/carteiras/carteira-s-hippocampus', 'https://www.futah.world/pt/vestuario-e-acessorios/carteiras/carteira-s-chamaeleo', 'https://www.futah.world/pt/vestuario-e-acessorios/carteiras/carteira-m-preta', 'https://www.futah.world/pt/vestuario-e-acessorios/carteiras/carteira-m-cor-de-rosa', 'https://www.futah.world/pt/vestuario-e-acessorios/carteiras/carteira-m-mostarda', 'https://www.futah.world/pt/vestuario-e-acessorios/carteiras/carteira-l-chamaeleo', 'https://www.futah.world/pt/vestuario-e-acessorios/carteiras/carteira-l-ciconia', 'https://www.futah.world/pt/vestuario-e-acessorios/mochilas/mochila-riscas-pretas', 'https://www.futah.world/pt/vestuario-e-acessorios/mochilas/mochila-preta-graphite']


    start_urls = categories
    urls = []
    merchants = []
    logging.getLogger('scrapy').setLevel(logging.WARNING)

    def parse(self, response):

        allContent =response.css('.accordion .accordion-navigation .content .accordion-titulo').xpath('text()').extract()
        allDescs = response.css('[class*="column"] + [class*="column"]:last-child').xpath('text()').extract()
        imagesFinal = []
        allContentFinal = []
        allDescsFinal = []
        for i in allContent:
            allContentFinal.append(i.replace("\r\n","").strip())
        for i in allDescs:
            allDescsFinal.append(i.replace("\r\n","").strip())

        specs = dict(zip(allContentFinal, allDescsFinal))

        images = response.xpath('/html/body/div[2]/div[1]/div[2]/div/div/div/div/section/div[1]/div/div[2]/div[1]/div[1]/div//img/@src').extract()

        yield {
            "Title":response.css('#main-container #area-produto .produto-top-wrapper .produto-detalhes-wrapper .produto-detalhes-inner-wrapper h1, #dialog-quick-buy #area-produto .produto-top-wrapper .produto-detalhes-wrapper .produto-detalhes-inner-wrapper h1::text').xpath('text()').extract_first(),
            "Price":response.css('.price::text').extract_first(),
            "Description": response.xpath('/html/body/div[2]/div[1]/div[2]/div/div/div/div/section/div[1]/div/div[2]/div[2]/div/div[5]/p//text()').extract_first(),
            "Specifications": specs,
            "images": images
        }

    